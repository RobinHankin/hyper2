<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Weighted probability vectors: hyper3 objects — hyper3 • hyper2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Weighted probability vectors: hyper3 objects — hyper3"><meta property="og:description" content="

Objects of class hyper3 are a generalization of hyper2 objects
that allow the brackets to contain weighted probabilities.
As a motivating example, suppose two players with Bradley-Terry
strengths \(p_1,p_2\) play chess where we quantify the first-mover
advantage with a term \(\lambda\).  If \(p_1\) plays
white \(a+b\) times with \(a\) wins and \(b\) losses, and
plays black \(c+d\) times with \(c\) wins and \(d\)
losses, then a sensible likelihood function might be
$$
  \left(\frac{\lambda p_1}{\lambda p_1 + p_2}\right)^{a}
  \left(\frac{p_2        }{\lambda p_1 + p_2}\right)^{b}
  \left(\frac{p_1        }{p_1 + \lambda p_2}\right)^{c}
  \left(\frac{\lambda p_2}{p_1 + \lambda p_2}\right)^{d}
  $$
If \(a=1,b=2,c=3,d=4\) and \(\lambda=1.3\) appropriate
package idiom might be:


H &amp;lt;- hyper3()
H[c(p1=1.3)]      %&amp;lt;&amp;gt;% inc(1) # a=1
H[c(p2=1)]        %&amp;lt;&amp;gt;% inc(2) # b=2
H[c(p1=1.3,p2=1)] %&amp;lt;&amp;gt;% dec(3) # a+b=1+2=3
H[c(p1=1)]        %&amp;lt;&amp;gt;% inc(3) # c=3
H[c(p2=1.3)]      %&amp;lt;&amp;gt;% inc(4) # d=4
H[c(p1=1,p2=1.3)] %&amp;lt;&amp;gt;% dec(7) # c+d=3+4=7
H
&amp;gt; log( (p1=1)^3 * (p1=1, p2=1.3)^-7 * (p1=1.3)^1 * (p1=1.3, p2=1)^-3 *
(p2=1)^2 * (p2=1.3)^4)


The general form of terms of a hyper3 object would be
\(\left(w_1p_1+\cdots+w_rp_r\right)^{\alpha}\); the
complete object would be
$$
  \mathcal{L}\left(p_1,\ldots,p_n\right)=
  \prod_{j=1}^N\left(\sum_{i=1}^n
  w_{ij}p_i\right)^{\alpha_i}
  $$
where we understand that \(p_n=1-\sum_{i=1}^{n-1}p_i\);
many of the weights might be zero.  We see that the weights
\(w_{ij}\) may be arranged as a matrix and this form is taken
by function hyper3_m()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyper2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/dirichlet.html">The `dirichlet()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/icons.html">Public perception of climate change: the `icons` dataset in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/ordertrans.html">The `ordertrans()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/zeropower.html">The zero-sum-power issue in the `hyper2` package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/RobinHankin/hyper2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Weighted probability vectors: <code>hyper3</code> objects</h1>

    <div class="hidden name"><code>hyper3.Rd</code></div>
    </div>

    <div class="ref-description">


<p>Objects of class <code>hyper3</code> are a generalization of <code>hyper2</code> objects
that allow the brackets to contain weighted probabilities.</p>
<p>As a motivating example, suppose two players with Bradley-Terry
strengths \(p_1,p_2\) play chess where we quantify the first-mover
advantage with a term \(\lambda\).  If \(p_1\) plays
white \(a+b\) times with \(a\) wins and \(b\) losses, and
plays black \(c+d\) times with \(c\) wins and \(d\)
losses, then a sensible likelihood function might be</p>
<p>$$
  \left(\frac{\lambda p_1}{\lambda p_1 + p_2}\right)^{a}
  \left(\frac{p_2        }{\lambda p_1 + p_2}\right)^{b}
  \left(\frac{p_1        }{p_1 + \lambda p_2}\right)^{c}
  \left(\frac{\lambda p_2}{p_1 + \lambda p_2}\right)^{d}
  $$</p>
<p>If \(a=1,b=2,c=3,d=4\) and \(\lambda=1.3\) appropriate
package idiom might be:</p>
<div class="sourceCode"><pre><code>

H &lt;- hyper3()
H[c(p1=1.3)]      %&lt;&gt;% inc(1) # a=1
H[c(p2=1)]        %&lt;&gt;% inc(2) # b=2
H[c(p1=1.3,p2=1)] %&lt;&gt;% dec(3) # a+b=1+2=3
H[c(p1=1)]        %&lt;&gt;% inc(3) # c=3
H[c(p2=1.3)]      %&lt;&gt;% inc(4) # d=4
H[c(p1=1,p2=1.3)] %&lt;&gt;% dec(7) # c+d=3+4=7
H
&gt; log( (p1=1)^3 * (p1=1, p2=1.3)^-7 * (p1=1.3)^1 * (p1=1.3, p2=1)^-3 *
(p2=1)^2 * (p2=1.3)^4)
</code></pre></div>

<p>The general form of terms of a <code>hyper3</code> object would be
\(\left(w_1p_1+\cdots+w_rp_r\right)^{\alpha}\); the
complete object would be</p>
<p>$$
  \mathcal{L}\left(p_1,\ldots,p_n\right)=
  \prod_{j=1}^N\left(\sum_{i=1}^n
  w_{ij}p_i\right)^{\alpha_i}
  $$</p>
<p>where we understand that \(p_n=1-\sum_{i=1}^{n-1}p_i\);
many of the weights might be zero.  We see that the weights
\(w_{ij}\) may be arranged as a matrix and this form is taken
by function <code>hyper3_m()</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hyper3</span><span class="op">(</span>B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, W <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, powers <span class="op">=</span> <span class="fl">0</span>, <span class="va">pnames</span><span class="op">)</span></span>
<span><span class="fu">hyper3_bw</span><span class="op">(</span>B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, W <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, powers <span class="op">=</span> <span class="fl">0</span>, <span class="va">pnames</span><span class="op">)</span></span>
<span><span class="fu">hyper3_nv</span><span class="op">(</span>L<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,powers<span class="op">=</span><span class="fl">0</span>,<span class="va">pnames</span><span class="op">)</span></span>
<span><span class="fu">hyper3_m</span><span class="op">(</span><span class="va">M</span>,<span class="va">p</span>,stripzeros<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-b">B<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>A list of brackets</p></dd>

  <dt id="arg-w">W<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>A list of weights</p></dd>

  <dt id="arg-l">L<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>A list of named vectors</p></dd>

  <dt id="arg-powers">powers<a class="anchor" aria-label="anchor" href="#arg-powers"></a></dt>
<dd><p>Numeric vector of powers</p></dd>

  <dt id="arg-pnames">pnames<a class="anchor" aria-label="anchor" href="#arg-pnames"></a></dt>
<dd><p>Character vector of player names</p></dd>

  <dt id="arg-m">M<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Matrix of weights, column names being player names</p></dd>

  <dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>Vector of powers, length equal to <code>ncol(M)</code></p></dd>

  <dt id="arg-stripzeros">stripzeros<a class="anchor" aria-label="anchor" href="#arg-stripzeros"></a></dt>
<dd><p>Boolean with default <code>TRUE</code> meaning to silently
    remove all-zero rows of <code>M</code></p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>


<p></p><ul><li><p>Function <code>hyper3()</code> is the user-friendly creation method,
    which dispatches to a helper function depending on its arguments.</p></li>
<li><p>Function <code>hyper3_bw()</code> takes a list of brackets
    (character vectors) and a list of weights (numeric vectors)  and
    returns a <code>hyper3</code> object.</p></li>
<li><p>Function <code>hyper3_nv()</code> takes a list of named vectors and
    returns a <code>hyper3</code> object.</p></li>
<li><p>Function <code>hyper3_m()</code> takes a matrix with rows being the
    brackets (entries are weights) and a numeric vector of powers.</p></li>
<li><p>Function <code><a href="cplusplus.html">evaluate3()</a></code> is a low-level helper function
    that evaluates a log-likelihood at a point in probability space.
    Don't use this: use the user-friendly <code><a href="loglik.html">loglik()</a></code> instead, which
    dispatches to <code><a href="cplusplus.html">evaluate3()</a></code>.</p></li>
<li><p>Function <code>maxp3()</code> is a placeholder (it is not yet
    written).  But the intention is that it will maximize the
    log-likelihood of a <code>hyper3</code> object over the Bradley Terry
    strengths <em>and</em> any weights given.  This might not be possible
    as envisaged right now; I present some thoughts in
    <code>inst/kka.Rmd</code>.</p></li>
<li><p>Function <code>list2nv()</code> converts a list of character vectors
    into a named vector suitable for use as argument <code>e</code> of
    function <code><a href="ordervec2supp3.html">cheering3()</a></code>.  It is used in
    <code>inst/global_liveability_ranking.Rmd</code>.</p></li>
<li><p>Function <code>as.namedvectorlist()</code> takes a <code>hyper3</code>
    object and returns a disoRdered list of named vectors corresponding
    to the brackets and their weights.</p></li>
<li><p>Function <code>setweight()</code> alters the weight of every
    occurrence of a set of players.  It is vectorised, so
    <code>setweight(H,c("a","b"),88:89)</code> sets the weight of <code>a</code> to
    88 and <code>b</code> to 89.  Replacement methods are defined, so
    “<code>H["a"] &lt;- as.weight(3)</code>” will set the weight of every
    occurrence of player <code>a</code> to 3.  If <code>H</code> is a <code>hyper2</code>
    object, it will be coerced to <code>hyper3</code>.</p></li>
</ul></div>
    <div id="value">
    <h2>Value</h2>
    <p>Generally return or deal with <code>hyper3</code> objects</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Robin K. S. Hankin</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Functionality for <code>hyper3</code> objects is generally indicated by adding
a “<code>3</code>” to function names, eg <code><a href="gradient.html">gradient()</a></code> goes to
<code>gradient3()</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="hyper2.html">hyper2</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hyper3</span><span class="op">(</span>B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>,<span class="st">"b"</span><span class="op">)</span>,W<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1.2</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">1</span><span class="op">)</span>,powers<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=1.2)^3 * (a=1.2, b=1)^4 * (b=1)^-7)</span>
<span class="r-in"><span><span class="fu">hyper3</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a<span class="op">=</span><span class="fl">1.2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>b<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a<span class="op">=</span><span class="fl">1.2</span>,b<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>,powers<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=1.2)^3 * (a=1.2, b=1)^-7 * (b=1)^4)</span>
<span class="r-in"><span><span class="co">## Above two objects should be identical.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Third method, send a matrix:</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">3</span><span class="op">)</span>,<span class="fl">5</span>,<span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">hyper3</span><span class="op">(</span><span class="va">M</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span>,<span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>   <span class="co"># second argument interpreted as powers</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=3, b=3, c=3)^-1 * (a=3, b=4, c=2)^3 * (a=3, b=5)^-5 * (a=3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b=6)^1 * (a=4, b=1, c=1)^2)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Standard way to generate a hyper3 object is to create an empty object</span></span></span>
<span class="r-in"><span><span class="co">## and populate it using the replacement methods:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">hyper3</span><span class="op">(</span><span class="op">)</span>  <span class="co"># default creation method [empty object]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>p1<span class="op">=</span><span class="fl">1.3</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>p2<span class="op">=</span><span class="fl">1</span>  <span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>p1<span class="op">=</span><span class="fl">1.3</span>,p2<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">7</span></span></span>
<span class="r-in"><span><span class="va">a</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (p1=1.3)^5 * (p1=1.3, p2=1)^-7 * (p2=1)^2)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chess3</span>  <span class="co"># representative simple hyper3 object</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (Anand=1)^15 * (Anand=2.09)^24 * (Anand=2.43, Karpov=2.43)^49 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Anand=2.43, Kasparov=2.43)^46 * (Anand=3.43, Karpov=4.52)^-49 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Anand=3.43, Kasparov=4.52)^-43 * (Anand=4.52, Karpov=3.43)^-43 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Anand=4.52, Kasparov=3.43)^-37 * (Karpov=1)^12 * (Karpov=2.09)^25 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Karpov=2.43, Kasparov=2.43)^129 * (Karpov=3.43, Kasparov=4.52)^-94 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Karpov=4.52, Kasparov=3.43)^-99 * (Kasparov=1)^20 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Kasparov=2.09)^45)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">H1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ggrl.html">rankvec_likelihood</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">H2</span> <span class="op">&lt;-</span> <span class="fu"><a href="ggrl.html">rankvec_likelihood</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">H1</span><span class="op">[</span><span class="st">"a"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">as.weight</span><span class="op">(</span><span class="fl">1.2</span><span class="op">)</span>         <span class="co"># "a" has some disadvantage in H1</span></span></span>
<span class="r-in"><span><span class="va">H1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">as.weight</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>  <span class="co"># "b" and "c" have some advantage in H1</span></span></span>
<span class="r-in"><span><span class="va">H2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"d"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">as.weight</span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>  <span class="co"># "c" and "d" have some advantage in H2</span></span></span>
<span class="r-in"><span><span class="va">H1</span><span class="op">+</span><span class="va">H2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=1)^1 * (a=1, b=1, c=1.5, d=1.5, e=1, f=1)^-1 * (a=1, b=1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c=1.5, e=1, f=1)^-1 * (a=1.2)^1 * (a=1.2, b=2, c=3, d=1, e=1, f=1)^-1 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (b=1)^1 * (b=1, c=1.5, e=1, f=1)^-1 * (b=2, c=3, d=1, e=1, f=1)^-1 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (b=2, c=3, e=1, f=1)^-1 * (b=2, e=1, f=1)^-1 * (b=2, f=1)^-1 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (c=1.5)^1 * (c=1.5, e=1, f=1)^-1 * (c=3)^1 * (d=1)^1 * (d=1.5)^1 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (e=1)^1 * (e=1, f=1)^-1 * (f=1)^2)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robin K. S. Hankin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

