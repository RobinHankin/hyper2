<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Player with advantage — pwa • hyper2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Player with advantage — pwa"><meta property="og:description" content="

Commonly, when considering competitive situations we suspect that one
player has an advantage of some type which we would like to quantify in
terms of an additional strength.  Examples might include racing at pole
position, playing white in chess, or playing soccer at one's home
ground.  Function pwa() (&amp;#8220;player with advantage&amp;#8221;) returns
a modified hyper2 object with the additional strength represented
as a reified entity.
Function pwa3() is the hyper3 equivalent; it modifies the
weight of specified players.  The named argument mechanism
[e.g. pwa3(H, e=1.2, f=3.4)] is the same as that of subs()
in the mvp package.  If there is exactly one ellipsis
argument, and it is a named vector, the elements are interpreted as
name/value pairs, so pwa3(H, c(e=1.2, f=3.4)) works.  Function
pwa3_single() is a lower-level helper function that takes a
single player name and its lambda value as second and third arguments."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyper2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.2-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/dirichlet.html">The `dirichlet()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/hyper3_creation.html">Creating `hyper3` objects in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/hyper3.html">Generalized Plackett-Luce Likelihoods</a>
    </li>
    <li>
      <a href="../articles/icons.html">Public perception of climate change: the `icons` dataset in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/ordertrans.html">The `ordertrans()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/zeropower.html">The zero-sum-power issue in the `hyper2` package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/RobinHankin/hyper2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Player with advantage</h1>

    <div class="hidden name"><code>pwa.Rd</code></div>
    </div>

    <div class="ref-description">


<p>Commonly, when considering competitive situations we suspect that one
player has an advantage of some type which we would like to quantify in
terms of an additional strength.  Examples might include racing at pole
position, playing white in chess, or playing soccer at one's home
ground.  Function <code>pwa()</code> (“player with advantage”) returns
a modified <code>hyper2</code> object with the additional strength represented
as a reified entity.</p>
<p>Function <code>pwa3()</code> is the <code>hyper3</code> equivalent; it modifies the
weight of specified players.  The named argument mechanism
[e.g. <code>pwa3(H, e=1.2, f=3.4)</code>] is the same as that of <code>subs()</code>
in the <a href="https://CRAN.R-project.org/package=mvp" class="external-link"><span class="pkg">mvp</span></a> package.  If there is exactly one ellipsis
argument, and it is a named vector, the elements are interpreted as
name/value pairs, so <code>pwa3(H, c(e=1.2, f=3.4))</code> works.  Function
<code>pwa3_single()</code> is a lower-level helper function that takes a
single player name and its lambda value as second and third arguments.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pwa</span><span class="op">(</span><span class="va">H</span>, <span class="va">pwa</span>, chameleon <span class="op">=</span> <span class="st">"S"</span><span class="op">)</span></span>
<span><span class="fu">pwa3_single</span><span class="op">(</span><span class="va">H3</span>, <span class="va">pwa</span>, <span class="va">lambda</span><span class="op">)</span></span>
<span><span class="fu">pwa3</span><span class="op">(</span><span class="va">H3</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-h">H<a class="anchor" aria-label="anchor" href="#arg-h"></a></dt>
<dd><p>A hyper2 object</p></dd>

  <dt id="arg-h-">H3<a class="anchor" aria-label="anchor" href="#arg-h-"></a></dt>
<dd><p>A hyper3 object</p></dd>

  <dt id="arg-pwa">pwa<a class="anchor" aria-label="anchor" href="#arg-pwa"></a></dt>
<dd><p>A list of the players with the supposed advantage; may be
    character in the case of a named hyper2 object, or an integer
    vector</p></dd>

  <dt id="arg-chameleon">chameleon<a class="anchor" aria-label="anchor" href="#arg-chameleon"></a></dt>
<dd><p>String representing the advantage</p></dd>

  <dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>Value of person with advantage</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further named arguments; see details</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>


<p>Given <code>H</code> of class <code>hyper2</code> and a competitor <code>a</code>,
<code>pwa(H,"a")</code> replaces every occurrence of <code>a</code> in <code>H</code> with
<code>a+S</code>, with <code>S</code> representing the extra strength conferred.
However, <code>a</code> may be a vector of competitors.  If <code>a</code> includes
more than one competitor, the resulting likelihood function does not
seem to instantiate any simple situation.</p>
<p>Nice examples of <code>pwa()</code> are given in <code class="file">inst/cook.Rmd</code> and
<code class="file">inst/universities.Rmd</code>, and some discussion of <code>pwa3()</code> is
given in <code>inst/pwa3.Rmd</code>.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns an object of class <code>hyper2</code> or <code>hyper3</code>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Robin K. S. Hankin</p>
    </div>
    <div id="note">
    <h2>Note</h2>


<p>Earlier versions of this package gave a contrived sequence of
observations, presented as an example of <code>pwa()</code> with multiple
advantaged competitors.  I removed it because the logic was flawed, but
it featured a chameleon who could impersonate (and indeed eat) certain
competitors, which is why the third argument is so named.</p>
<p>The aliases commemorate some uses of the function in the vignettes and
markdown files in the <code class="file">inst/</code> directory.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">formula1</span> <span class="op">|&gt;</span> <span class="fu">pwa</span><span class="op">(</span><span class="st">"Hamilton"</span>,<span class="st">"pole"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A hyper2 object of size 26.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pnames:  Alonso Bottas Button Ericsson Gasly Giovinazzi Grosjean Hamilton Hartley Hulkenberg Kvyat Magnussen Massa Ocon Palmer Perez Raikkonen Resta Ricciardo Sainz Stroll Vandoorne Verstappen Vettel Wehrlein pole </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of brackets: 262 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sum of powers: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table of bracket lengths:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1  2  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  1  3  6 12 16 18 19 20 19 20 18 19 18 11 11 10  9  5  4  1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table of powers:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -20  -9  -6  -5  -4  -3  -2  -1   1   2   5  11  12  13  14  15  16  17  18  19 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   1   3   1   3   4  12 214   1   1   1   3   1   1   4   2   1   3   1   3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">H</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">2</span>, b <span class="op">=</span> <span class="fl">3</span>, c <span class="op">=</span> <span class="fl">1</span>, d <span class="op">=</span> <span class="fl">5</span>, e <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">pwa</span><span class="op">(</span><span class="va">H</span>,<span class="st">'a'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (S + a) * (S + a + b + c + d + e)^-1 * (S + a + b + d + e)^-1 * b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * (b + d + e)^-1 * c * (d + e)^-1 * e)</span>
<span class="r-in"><span><span class="fu">pwa3_single</span><span class="op">(</span><span class="va">H</span>, <span class="st">"a"</span>, <span class="fl">1.888</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=1.888)^1 * (a=1.888, b=1, c=1, d=1, e=1)^-1 * (a=1.888, b=1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> d=1, e=1)^-1 * (b=1)^1 * (b=1, d=1, e=1)^-1 * (c=1)^1 * (d=1, e=1)^-1 *</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (e=1)^1)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">pwa3</span><span class="op">(</span><span class="va">H</span>, b<span class="op">=</span><span class="fl">1.8</span>, c<span class="op">=</span><span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> log( (a=1)^1 * (a=1, b=1.8, c=0.7, d=1, e=1)^-1 * (a=1, b=1.8, d=1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e=1)^-1 * (b=1.8)^1 * (b=1.8, d=1, e=1)^-1 * (c=0.7)^1 * (d=1, e=1)^-1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * (e=1)^1)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Four races between a,b,c,d:</span></span></span>
<span class="r-in"><span><span class="va">H1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">3</span>, c <span class="op">=</span> <span class="fl">4</span>, d <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">H2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="fl">1</span>, c <span class="op">=</span> <span class="fl">3</span>, d <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">H3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">4</span>, b <span class="op">=</span> <span class="fl">2</span>, c <span class="op">=</span> <span class="fl">1</span>, d <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">H4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://robinhankin.github.io/hyper2/reference/ordertable2supp.html" class="external-link">ordervec2supp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">3</span>, b <span class="op">=</span> <span class="fl">4</span>, c <span class="op">=</span> <span class="fl">1</span>, d <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Now it is revealed that a,b,c had some advantage in races 1,2,3</span></span></span>
<span class="r-in"><span><span class="co">## respectively.  Is there evidence that this advantage exists?</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span>   <span class="co"># takes ~10 seconds, too long for here</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tests.html">specificp.test</a></span><span class="op">(</span><span class="fu">pwa</span><span class="op">(</span><span class="va">H1</span>,<span class="st">'a'</span><span class="op">)</span> <span class="op">+</span> <span class="fu">pwa</span><span class="op">(</span><span class="va">H2</span>,<span class="st">'b'</span><span class="op">)</span> <span class="op">+</span> <span class="fu">pwa</span><span class="op">(</span><span class="va">H3</span>,<span class="st">'c'</span><span class="op">)</span> <span class="op">+</span> <span class="va">H4</span>,<span class="st">"S"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robin K. S. Hankin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

