<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Pairwise comparisons — pairwise • hyper2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Pairwise comparisons — pairwise"><meta property="og:description" content="

Function pairwise() takes a matrix of pairwise comparisons and
  returns a hyper2 likelihood function.  Function
  zermelo() gives a standard iterative procedure for likelihood
  maximization of pairwise Bradley-Terry likelihoods (such as those
  produced by function pairwise()).
Function home_away() takes two matrices, one for home wins and
  one for away wins.  It returns a hyper2 support function that
  includes a home advantage ghost.  Function home_away3() is the
  same, but returns a hyper3 object.  A complex matrix is
  interpreted as real parts being the home wins and imaginary parts away
  wins.
Convenience function pair3() returns a likelihood function for
  repeated comparisons between two players, one of which has a home (or
  first-move) advantage.  Given
pair3(a=4, b=3, lambda=1.88)

it returns
$$\frac{\left(1.88{p_a}\right)^4{p_b}^3}{1.88p_a + p_b}.$$
The first player is the one with the home advantage of lambda.
  A use-case is given in inst/table_tennis_serve.Rmd.
Function white_draw3() returns a hyper3 likelihood
  function for pairwise comparisons, one of whom has a home team-type
  advantage (white player in the case of chess).  It is designed to
  work with an array of dimensions \(n\times n\times 3\),
  where \(n\) is the number of players.  It is used in
  inst/kka.Rmd to create chess3 likelihood function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyper2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/dirichlet.html">The `dirichlet()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/icons.html">Public perception of climate change: the `icons` dataset in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/ordertrans.html">The `ordertrans()` function in the `hyper2` package</a>
    </li>
    <li>
      <a href="../articles/zeropower.html">The zero-sum-power issue in the `hyper2` package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/RobinHankin/hyper2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pairwise comparisons</h1>

    <div class="hidden name"><code>pairwise.Rd</code></div>
    </div>

    <div class="ref-description">


<p>Function <code>pairwise()</code> takes a matrix of pairwise comparisons and
  returns a <code>hyper2</code> likelihood function.  Function
  <code>zermelo()</code> gives a standard iterative procedure for likelihood
  maximization of pairwise Bradley-Terry likelihoods (such as those
  produced by function <code>pairwise()</code>).</p>
<p>Function <code>home_away()</code> takes two matrices, one for home wins and
  one for away wins.  It returns a <code>hyper2</code> support function that
  includes a home advantage ghost.  Function <code>home_away3()</code> is the
  same, but returns a <code>hyper3</code> object.  A complex matrix is
  interpreted as real parts being the home wins and imaginary parts away
  wins.</p>
<p>Convenience function <code>pair3()</code> returns a likelihood function for
  repeated comparisons between two players, one of which has a home (or
  first-move) advantage.  Given</p>
<p></p><div class="sourceCode"><pre><code><span><span class="fu"><a href="../reference/pairwise.html">pair3</a></span><span class="op">(</span>a<span class="op">=</span><span class="fl">4</span>, b<span class="op">=</span><span class="fl">3</span>, lambda<span class="op">=</span><span class="fl">1.88</span><span class="op">)</span></span></code></pre></div>

<p>it returns</p>
<p>$$\frac{\left(1.88{p_a}\right)^4{p_b}^3}{1.88p_a + p_b}.$$</p>
<p>The first player is the one with the home advantage of <code>lambda</code>.
  A use-case is given in <code>inst/table_tennis_serve.Rmd</code>.</p>
<p>Function <code>white_draw3()</code> returns a <code>hyper3</code> likelihood
  function for pairwise comparisons, one of whom has a home team-type
  advantage (white player in the case of chess).  It is designed to
  work with an array of dimensions \(n\times n\times 3\),
  where \(n\) is the number of players.  It is used in
  <code>inst/kka.Rmd</code> to create <code>chess3</code> likelihood function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pairwise</span><span class="op">(</span><span class="va">M</span><span class="op">)</span></span>
<span><span class="fu">zermelo</span><span class="op">(</span><span class="va">M</span>, maxit <span class="op">=</span> <span class="fl">100</span>, <span class="va">start</span>, tol <span class="op">=</span> <span class="fl">1e-10</span>, give <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">home_away</span><span class="op">(</span><span class="va">home_games_won</span>, <span class="va">away_games_won</span><span class="op">)</span></span>
<span><span class="fu">home_away3</span><span class="op">(</span><span class="va">home_games_won</span>, <span class="va">away_games_won</span>,<span class="va">lambda</span><span class="op">)</span></span>
<span><span class="fu">white_draw3</span><span class="op">(</span><span class="va">A</span>,<span class="va">lambda</span>,<span class="va">D</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-m">M<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Matrix of pairwise comparison results</p></dd>

  <dt id="arg-maxit">maxit<a class="anchor" aria-label="anchor" href="#arg-maxit"></a></dt>
<dd><p>Maximum number of iterations</p></dd>

  <dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>Starting value for iteration; if missing, use
    <code><a href="maxp.html">equalp()</a></code></p></dd>

  <dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>Numerical tolerance for stopping criterion</p></dd>

  <dt id="arg-give">give<a class="anchor" aria-label="anchor" href="#arg-give"></a></dt>
<dd><p>Boolean with default <code>FALSE</code> meaning to return the
    evaluate and <code>TRUE</code> meaning to return all iterations</p></dd>

  <dt id="arg-home-games-won-away-games-won">home_games_won, away_games_won<a class="anchor" aria-label="anchor" href="#arg-home-games-won-away-games-won"></a></dt>
<dd><p>Matrices showing home games won
    and away games won</p></dd>

  <dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>The home ground advantage
    (or white advantage in chess)</p></dd>

  <dt id="arg-d">D<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Weight of draw</p></dd>

  <dt id="arg-a">A<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>Array of dimension <code>n*n*3</code>, with <code>A[,,i]</code>
  corresponding to white wins, white draws, and white losses for
  <code>i=1,2,3</code>.  The canonical example would be <code>kka_array</code>,
  see <code>inst/kka.Rmd</code> for details</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>In function <code>zermelo()</code>, the diagonal is disregarded.</p>
<p>If <code>home_games_won</code> is complex, then the real parts of the
  entries are interpreted as home games won, and the imaginary parts as
  away games won.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p></p><ul><li><p>D. R. Hunter 2004. “MM algorithms for generalized
  Bradley-Terry models”. <em>The Annals of Statistics</em>, volume 32,
number 1, pages 384–406</p></li>
<li><p>S. Borozki and others 2016.  “An application of incomplete pairwise
  comparison matrices for ranking top tennis
  players”. <code>arXiv:1611.00538v1</code> <code>10.1016/j.ejor.2015.06.069</code></p></li>
<li><p>R. R. Davidson and R. J. Beaver 1977. “On extending the
  Bradley-Terry model to incorporate within-pair order effects”.
  <em>Biometrics</em>, 33:693–702</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Robin K. S. Hankin</p>
    </div>
    <div id="note">
    <h2>Note</h2>


<p>An extended discussion of <code>pairwise()</code> is given in
<code>inst/zermelo.Rmd</code> and also <code>inst/karate.Rmd</code>.  Functions
<code>home_away()</code> and <code>home_away3()</code> are described and used in
<code>inst/home_advantage.Rmd</code>; see Davidson and Beaver 1977.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="maxp.html">maxp</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>

    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robin K. S. Hankin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

